(this.webpackJsonpbrewdog=this.webpackJsonpbrewdog||[]).push([[0],{19:function(t,e,a){},22:function(t,e,a){},23:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),r=a(11),i=a.n(r),o=(a(19),a(12)),l=a(10),c=a.n(l),u=a(14),d=a(13),h=a(4),b=a(5),g=a(6),m=a(8),j=a(7),p=function(t,e){return t.abv>e.abv?0:1},f=function(t,e){return t.srm>e.srm?0:1},v=function(t,e){return t.id>e.id?1:0},_=a(0),x=function(t){return Object(_.jsxs)("div",{className:"catalog__nav",children:[Object(_.jsx)("p",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c:"}),Object(_.jsxs)("ul",{className:"catalog__sort-list",onClick:function(e){t.onClick(e)},children:[Object(_.jsx)("li",{className:"catalog__sort-item",children:Object(_.jsx)("button",{className:"catalog__sort-btn btn btn--active btn--sort-default",type:"button",children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"})}),Object(_.jsx)("li",{className:"catalog__sort-item",children:Object(_.jsx)("button",{className:"catalog__sort-btn btn btn--sort-abv",type:"button",children:"\u041f\u043e \u043a\u0440\u0435\u043f\u043e\u0441\u0442\u0438"})}),Object(_.jsx)("li",{className:"catalog__sort-item",children:Object(_.jsx)("button",{className:"catalog__sort-btn btn btn--sort-srm",type:"button",children:"\u041f\u043e \u0446\u0432\u0435\u0442\u043d\u043e\u0441\u0442\u0438"})})]})]})},O=function(t){Object(m.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).props=t,s}return Object(b.a)(a,[{key:"handleLoginClick",value:function(t){t.preventDefault(),this.props.modalLogin(!1)}},{key:"render",value:function(){var t=this;return Object(_.jsxs)("div",{className:"search",children:[Object(_.jsxs)("form",{className:"search__form",children:[Object(_.jsx)("label",{htmlFor:"main-search-id","aria-label":"\u041f\u043e\u0438\u0441\u043a"}),Object(_.jsx)("input",{className:"search__field",type:"text",id:"main-search-id",name:"main-search",placeholder:"\u041f\u043e\u0438\u0441\u043a...",onInput:function(e){t.props.onInput(e)}})]}),Object(_.jsx)(y,{onClick:function(e){return t.handleLoginClick(e)},onChange:this.handleSomeEvent})]})}}]),a}(n.a.Component),y=function(t){return Object(_.jsx)("a",{onClick:function(e){t.onClick(e)},className:"login-btn btn",href:"modal-login.html",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})},L=function(t){return Object(_.jsxs)("section",{className:"login",children:[Object(_.jsx)("h2",{children:"\u0424\u043e\u0440\u043c\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),Object(_.jsxs)("form",{onInput:function(e){return t.onInput(e)},onSubmit:function(e){return t.onSubmit(e)},className:"login__form login__user",method:"#",action:"#",children:[Object(_.jsx)("label",{htmlFor:"login-user-name-id",children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(_.jsx)("input",{className:"login__user-name",type:"text",id:"login-user-name-id",name:"login-user-name",placeholder:"\u0424\u0418\u041e",maxLength:"60",required:!0}),Object(_.jsx)("label",{htmlFor:"login-user-date-id",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),Object(_.jsx)("input",{className:"login__user-date",type:"date",id:"login-user-date-id",name:"login-user-date",placeholder:"\u0434\u0434.\u043c\u043c.\u0433\u0433\u0433\u0433",required:!0}),Object(_.jsx)("label",{htmlFor:"login-user-email-id",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),Object(_.jsx)("input",{className:"login__user-email",type:"email",id:"login-user-email-id",name:"login-user-email",placeholder:"Email",required:!0}),Object(_.jsx)("label",{htmlFor:"login-user-password-id",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(_.jsx)("input",{className:"login__user-password",type:"password",id:"login-user-password-id",name:"login-user-password",minLength:"6",maxLength:"24",required:!0}),Object(_.jsx)("button",{className:"login-submit btn",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(_.jsx)("button",{className:"login__form-close btn-close",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"})]})]})},k=function(t){Object(m.a)(a,t);var e=Object(j.a)(a);function a(t,s){var n;return Object(h.a)(this,a),(n=e.call(this,t)).keyDownHandler=s,n.state={error:null,isLoaded:!1,data:[],originalData:[],sort:null,isLoginModalHide:!0},n.paginationPagesFactor=25,n.sortByAbv=p,n.sortBySrm=f,n.sortByDefault=v,n.handleModalLogin=n.handleModalLogin.bind(Object(g.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var t=Object(d.a)(c.a.mark((function t(){var e,a,s,n,r,i,o,l=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=5,a=null,s=[],r=1;case 4:if(!(r<=e)){t.next=22;break}return i=[],t.prev=6,t.next=9,fetch("https://api.punkapi.com/v2/beers?page=".concat(r,"&per_page=80"));case 9:return a=t.sent,t.next=12,a.json();case 12:i[r]=t.sent,s=(o=s).concat.apply(o,Object(u.a)(i[r])),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),n=a.status;case 19:r++,t.next=4;break;case 22:s.length?(window.addEventListener("keydown",(function(t){"Escape"===t.key&&(t.preventDefault(),l.setState({isLoginModalHide:!0}))})),this.setState({isLoaded:!0,data:s.slice(0,this.paginationPagesFactor),originalData:s.slice(0,this.paginationPagesFactor),sort:"sortByDefault"})):this.setState({error:n});case 23:case"end":return t.stop()}}),t,this,[[6,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"handleSortClick",value:function(t){var e,a=this.state.data,s=document.querySelectorAll(".catalog__sort-btn"),n=Object(o.a)(s);try{for(n.s();!(e=n.n()).done;){e.value.classList.remove("btn--active")}}catch(c){n.e(c)}finally{n.f()}if(t.target.classList.contains("btn--sort-abv")&&"sortByAbv"!==this.state.sort){t.target.classList.add("btn--active");var r=a.sort(this.sortByAbv);this.setState({data:r,sort:"sortByAbv"})}else if(t.target.classList.contains("btn--sort-srm")&&"sortBySrm"!==this.state.sort){t.target.classList.add("btn--active");var i=a.sort(this.sortBySrm);this.setState({data:i,sort:"sortBySrm"})}else if(t.target.classList.contains("btn--sort-default")&&"sortByDefault"!==this.state.sort){t.target.classList.add("btn--active");var l=a.sort(this.sortByDefault);this.setState({data:l,sort:"sortByDefault"})}}},{key:"handleSearchInput",value:function(t){var e;switch(this.state.sort){case"sortByAbv":e=this.state.originalData.sort(this.sortByAbv);break;case"sortBySrm":e=this.state.originalData.sort(this.sortBySrm);break;case"sortByDefault":e=this.state.originalData.sort(this.sortByDefault)}var a=e.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}));this.setState({data:a})}},{key:"handleFormCheck",value:function(t){if(t.target.classList.contains("login__user-name")){!function(t,e){var a=/[^\u0430-\u044f- ]/i;a.test(t.target.value)?(t.target.setCustomValidity("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),t.target.classList.add("login__user-name--error"),t.target.placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0418\u043c\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",t.target.value=e):(t.target.value=t.target.value.replace(a,""),t.target.placeholder="\u0424\u0418\u041e",t.target.classList.remove("login__user-name--error"),e=t.target.value,t.target.setCustomValidity(""))}(t,null)}else t.target.classList.contains("login__user-email")?function(t){t.target.value.includes("@")?(t.target.placeholder="Email",t.target.classList.remove("login__user-email--error"),t.target.setCustomValidity("")):(t.target.setCustomValidity("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),t.target.classList.add("login__user-email--error"),t.target.placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email")}(t):t.target.classList.contains("login__user-password")&&function(t){t.target.value.length<6?(t.target.setCustomValidity("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(6," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")),t.target.classList.add("login__user-password--error")):(t.target.classList.remove("login__user-password--error"),t.target.setCustomValidity(""))}(t)}},{key:"handleFormSubmit",value:function(t){t.preventDefault(),this.setState({isLoginModalHide:!0})}},{key:"handleModalLogin",value:function(t){this.setState({isLoginModalHide:t})}},{key:"handleDocumentClick",value:function(t){(t.target.classList.contains("container-edge--fixed")||t.target.classList.contains("login__form-close"))&&this.handleModalLogin(!0)}},{key:"render",value:function(){var t=this,e=this.state,a=e.error,s=e.isLoaded,n=e.data,r=e.isLoginModalHide;return a?Object(_.jsxs)("div",{className:"launch launch--error",children:["\u041e\u0448\u0438\u0431\u043a\u0430. \u041a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: ",a]}):s?Object(_.jsx)("div",{onClick:function(e){return t.handleDocumentClick(e)},className:r?"container-edge":"container-edge container-edge--fixed",children:Object(_.jsxs)("div",{className:"catalog",children:[Object(_.jsx)("h1",{children:"Brewdog's DIY Dog"}),!r&&Object(_.jsx)(L,{value:this.state,onInput:function(e){return t.handleFormCheck(e)},onSubmit:function(e){return t.handleFormSubmit(e)}}),Object(_.jsx)(O,{value:this.state,onInput:function(e){return t.handleSearchInput(e)},modalLogin:this.handleModalLogin}),Object(_.jsx)(x,{value:this.state,onClick:function(e){return t.handleSortClick(e)}}),Object(_.jsx)("div",{className:"product",children:Object(_.jsx)("ul",{className:"product__list",children:n.map((function(t){return Object(_.jsx)("li",{className:"product__item",children:Object(_.jsx)("div",{className:"product__card",children:Object(_.jsxs)("a",{href:"https://punkapi.com",target:"_blank",rel:"noreferrer",children:[Object(_.jsx)("h2",{children:t.name}),Object(_.jsxs)("p",{children:["\u041a\u0440\u0435\u043f\u043e\u0441\u0442\u044c \u043f\u0438\u0432\u0430: ",t.abv]}),Object(_.jsxs)("p",{children:["\u0426\u0432\u0435\u0442\u043d\u043e\u0441\u0442\u044c \u043f\u0438\u0432\u0430: ",t.srm]}),Object(_.jsx)("img",{src:t.image_url,width:"15%",height:"auto",alt:t.name}),Object(_.jsx)("p",{children:t.description})]})})},t.id)}))})})]})}):Object(_.jsx)("div",{className:"launch launch--loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}}]),a}(n.a.Component);a(22);var C=function(){return Object(_.jsx)(k,{})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),r(t),i(t)}))};i.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(C,{})}),document.getElementById("root")),N()}},[[23,1,2]]]);
//# sourceMappingURL=main.d302c075.chunk.js.map