{"version":3,"sources":["util/util.js","util/form-check.js","components/sort.js","components/main-search.js","components/modal-login.js","load-data.js","App.js","reportWebVitals.js","index.js"],"names":["sortByAbv","prevItem","nextItem","abv","sortBySrm","srm","sortByDefault","id","overlayClickHandle","evt","loginModal","document","querySelector","body","classList","contains","target","add","remove","addEventListener","evtModal","stopPropagation","window","key","preventDefault","removeEventListener","Sort","props","className","onClick","type","DataSearch","htmlFor","aria-label","name","placeholder","onInput","handleLoginClick","React","Component","Login","href","ModalLogin","onSubmit","method","action","maxLength","required","minLength","LoadDataComponent","state","error","isLoaded","data","originalData","sort","paginationPagesFactor","a","pages","response","allData","i","responseData","fetch","ok","json","concat","errorMessage","status","length","this","setState","slice","catalog","sortBtns","querySelectorAll","catalogSortedByAbv","catalogSortedBySrm","catalogSortedByDefault","filteredCatalog","filter","item","toLowerCase","includes","value","userNameValue","userNamePattern","test","setCustomValidity","replace","checkUserName","checkUserEmail","checkUserPassword","handleFormCheck","handleFormSubmit","handleSearchInput","handleSortClick","map","rel","src","image_url","width","height","alt","description","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33814389.chunk.js","sourcesContent":["const sortByAbv = (prevItem, nextItem) => {\r\n  if (prevItem.abv > nextItem.abv) {\r\n    return 0;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nconst sortBySrm = (prevItem, nextItem) => {\r\n  if (prevItem.srm > nextItem.srm) {\r\n    return 0;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nconst sortByDefault = (prevItem, nextItem) => {\r\n  if (prevItem.id > nextItem.id) {\r\n    return 1;\r\n  } else {\r\n    return 0;\r\n  }\r\n}\r\n\r\nconst overlayClickHandle = (evt) => {\r\n  let loginModal = document.querySelector('.login');\r\n  let body = document.querySelector('body');\r\n\r\n  if (!loginModal.classList.contains('login--hide') && !evt.target.classList.contains('login-btn')) {\r\n    loginModal.classList.add('login--hide');\r\n    body.classList.remove('page--block-modal');\r\n  }\r\n  \r\n  loginModal.addEventListener('click', (evtModal) => {\r\n    if (evtModal.target.classList.contains('login__form-close')) {\r\n      loginModal.classList.add('login--hide');\r\n      body.classList.remove('page--block-modal');\r\n    }\r\n    evtModal.stopPropagation();\r\n  });\r\n};\r\n\r\nwindow.addEventListener('keydown', (evt) => {\r\n  let loginModal = document.querySelector('.login');\r\n  let body = document.querySelector('body');\r\n\r\n  if (evt.key === 'Escape') {\r\n    evt.preventDefault();\r\n    loginModal.classList.add('login--hide');\r\n    body.classList.remove('page--block-modal');\r\n    document.removeEventListener('click', overlayClickHandle);\r\n  }\r\n});\r\n\r\nexport {\r\n  overlayClickHandle,\r\n  sortByAbv,\r\n  sortBySrm,\r\n  sortByDefault,\r\n};\r\n","const PASSWORD_LENGTH = 6;\r\n\r\nconst checkUserName = (evt, userNameValue) => {\r\n  const userNamePattern = /[^а-я- ]/i;\r\n  if (userNamePattern.test(evt.target.value)) {\r\n    evt.target.setCustomValidity('Введите ФИО в формате Фамилия Имя Отчество');\r\n    evt.target.classList.add('login__user-name--error');\r\n    evt.target.placeholder = 'Введите ФИО в формате Фамилия Имя Отчество';\r\n    evt.target.value = userNameValue;\r\n  } else {\r\n    evt.target.value = evt.target.value.replace(userNamePattern, '');\r\n    evt.target.placeholder = 'ФИО';\r\n    evt.target.classList.remove('login__user-name--error');\r\n    userNameValue = evt.target.value;\r\n    evt.target.setCustomValidity('');\r\n  }\r\n}\r\n\r\nconst checkUserEmail = (evt) => {\r\n  if (!evt.target.value.includes('@')) {\r\n    evt.target.setCustomValidity('Введите корректный email');\r\n    evt.target.classList.add('login__user-email--error');\r\n    evt.target.placeholder = 'Введите корректный email';\r\n  } else {\r\n    evt.target.placeholder = 'Email';\r\n    evt.target.classList.remove('login__user-email--error');\r\n    evt.target.setCustomValidity('');\r\n  }\r\n}\r\n\r\nconst checkUserPassword = (evt) => {\r\n  if (evt.target.value.length < PASSWORD_LENGTH) {\r\n    evt.target.setCustomValidity(`Введите не менее ${PASSWORD_LENGTH} символов`);\r\n    evt.target.classList.add('login__user-password--error');\r\n  } else {\r\n    evt.target.classList.remove('login__user-password--error');\r\n    evt.target.setCustomValidity('');\r\n  }\r\n}\r\n\r\nexport {\r\n  checkUserName,\r\n  checkUserEmail,\r\n  checkUserPassword,\r\n}","const Sort = (props) => {\r\n  return (\r\n    <div className=\"catalog__nav\">\r\n      <p>Сортировать:</p>\r\n      <ul className=\"catalog__sort-list\"\r\n        onClick={(evt) => { props.onClick(evt) }}>\r\n        <li className=\"catalog__sort-item\"><button className=\"catalog__sort-btn btn btn--active btn--sort-default\" type=\"button\">По умолчанию</button></li>\r\n        <li className=\"catalog__sort-item\"><button className=\"catalog__sort-btn btn btn--sort-abv\" type=\"button\">По крепости</button></li>\r\n        <li className=\"catalog__sort-item\"><button className=\"catalog__sort-btn btn btn--sort-srm\" type=\"button\">По цветности</button></li>\r\n      </ul>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport {\r\n  Sort,\r\n};\r\n","import React from \"react\";\r\nimport {overlayClickHandle} from \"../util/util.js\"\r\n\r\nclass DataSearch extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.props = props;\r\n  }\r\n\r\n  handleLoginClick(evt) {\r\n    evt.preventDefault();\r\n    let loginModal = document.querySelector('.login');\r\n    let body = document.querySelector('body');\r\n\r\n    loginModal.classList.remove('login--hide');\r\n    body.classList.add('page--block-modal');\r\n    document.addEventListener('click', overlayClickHandle);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"search\">\r\n        <form className=\"search__form\">\r\n          <label htmlFor=\"main-search-id\" aria-label=\"Поиск\"></label>\r\n          <input\r\n            className=\"search__field\"\r\n            type=\"text\"\r\n            id=\"main-search-id\"\r\n            name=\"main-search\"\r\n            placeholder=\"Поиск...\"\r\n            onInput={(evt) => { this.props.onInput(evt) }}>\r\n          </input>\r\n        </form>\r\n        <Login \r\n        onClick={(evt) => this.handleLoginClick(evt)}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport {\r\n  DataSearch,\r\n};\r\n\r\nconst Login = (props) => {\r\n  return (\r\n    <a onClick={(evt) => { props.onClick(evt) }}\r\n      className=\"login-btn btn\" href=\"modal-login.html\">Зарегистрироваться</a>\r\n  )\r\n}\r\n","const ModalLogin = (props) => {\r\n  return (\r\n    <section className=\"login login--hide\">\r\n      <h2>Форма регистрации</h2>\r\n      <form\r\n        onInput={(evt) => props.onInput(evt)}\r\n        onSubmit={(evt) => props.onSubmit(evt)}\r\n        className=\"login__form login__user\" method=\"#\" action=\"#\">\r\n        <label htmlFor=\"login-user-name-id\">Фамилия, имя, отчество</label>\r\n        <input\r\n          className=\"login__user-name\"\r\n          type=\"text\"\r\n          id=\"login-user-name-id\"\r\n          name=\"login-user-name\"\r\n          placeholder=\"ФИО\"\r\n          maxLength=\"60\"\r\n          required>\r\n        </input>\r\n        <label htmlFor=\"login-user-date-id\">Дата рождения</label>\r\n        <input\r\n          className=\"login__user-date\"\r\n          type=\"date\"\r\n          id=\"login-user-date-id\"\r\n          name=\"login-user-date\"\r\n          placeholder=\"дд.мм.гггг\"\r\n          required>\r\n        </input>\r\n        <label htmlFor=\"login-user-email-id\">Электронная почта</label>\r\n        <input\r\n          className=\"login__user-email\"\r\n          type=\"email\"\r\n          id=\"login-user-email-id\"\r\n          name=\"login-user-email\"\r\n          placeholder=\"Email\"\r\n          required>\r\n        </input>\r\n        <label htmlFor=\"login-user-password-id\">Пароль</label>\r\n        <input\r\n          className=\"login__user-password\"\r\n          type=\"password\"\r\n          id=\"login-user-password-id\"\r\n          name=\"login-user-password\"\r\n          minLength=\"6\"\r\n          maxLength=\"24\"\r\n          required>\r\n        </input>\r\n        <button className=\"login-submit btn\" type=\"submit\">Зарегистрироваться</button>\r\n        <button className=\"login__form-close btn-close\" type=\"button\" aria-label=\"Закрыть модальное окно\"></button>\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport {\r\n  ModalLogin\r\n};\r\n","import React from 'react';\r\nimport { sortByAbv, sortBySrm, sortByDefault } from \"./util/util.js\";\r\nimport { checkUserName, checkUserEmail, checkUserPassword } from \"./util/form-check.js\"\r\nimport { Sort } from \"./components/sort.js\";\r\nimport { DataSearch } from \"./components/main-search.js\";\r\nimport { ModalLogin } from \"./components/modal-login.js\";\r\n\r\nclass LoadDataComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      data: [],\r\n      originalData: [],\r\n      sort: null,\r\n    }\r\n\r\n    this.paginationPagesFactor = 25;\r\n    this.sortByAbv = sortByAbv;\r\n    this.sortBySrm = sortBySrm;\r\n    this.sortByDefault = sortByDefault;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const pages = 5;\r\n    let response = null;\r\n    let allData = [];\r\n    let errorMessage;\r\n    for (let i = 1; i <= pages; i++) {\r\n      let responseData = [];\r\n      response = await fetch(`https://api.punkapi.com/v2/beers?page=${i}&per_page=80`);\r\n      if (response.ok) {\r\n        responseData[i] = await response.json();\r\n        allData = allData.concat(...responseData[i]);\r\n      } else {\r\n        errorMessage = response.status;\r\n      }\r\n    }\r\n    if (allData.length) {\r\n      this.setState({\r\n        isLoaded: true,\r\n        data: allData.slice(0, this.paginationPagesFactor),\r\n        originalData: allData.slice(0, this.paginationPagesFactor),\r\n        sort: 'sortByDefault',\r\n      });\r\n    } else {\r\n      this.setState({\r\n        error: errorMessage\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSortClick(evt) {\r\n    const catalog = this.state.data;\r\n    let sortBtns = document.querySelectorAll('.catalog__sort-btn');\r\n    for (const sortBtn of sortBtns) {\r\n      sortBtn.classList.remove('btn--active');\r\n    }\r\n\r\n    if (evt.target.classList.contains('btn--sort-abv') && this.state.sort !== 'sortByAbv') {\r\n      evt.target.classList.add('btn--active');\r\n      let catalogSortedByAbv = catalog.sort(this.sortByAbv);\r\n      this.setState({\r\n        data: catalogSortedByAbv,\r\n        sort: 'sortByAbv',\r\n      });\r\n    } else if ((evt.target.classList.contains('btn--sort-srm') && this.state.sort !== 'sortBySrm')) {\r\n      evt.target.classList.add('btn--active');\r\n      let catalogSortedBySrm = catalog.sort(this.sortBySrm);\r\n      this.setState({\r\n        data: catalogSortedBySrm,\r\n        sort: 'sortBySrm',\r\n      });\r\n    } else if ((evt.target.classList.contains('btn--sort-default') && this.state.sort !== 'sortByDefault')) {\r\n      evt.target.classList.add('btn--active');\r\n      let catalogSortedByDefault = catalog.sort(this.sortByDefault);\r\n      this.setState({\r\n        data: catalogSortedByDefault,\r\n        sort: 'sortByDefault',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchInput(evt) {\r\n    let catalog;\r\n    switch (this.state.sort) {\r\n      case 'sortByAbv':\r\n        catalog = this.state.originalData.sort(this.sortByAbv);\r\n        break;\r\n      case 'sortBySrm':\r\n        catalog = this.state.originalData.sort(this.sortBySrm);\r\n        break;\r\n      case 'sortByDefault':\r\n        catalog = this.state.originalData.sort(this.sortByDefault);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    let filteredCatalog = catalog.filter((item) => {\r\n      return item.name.toLowerCase().includes(evt.target.value.toLowerCase());\r\n    });\r\n\r\n    this.setState({\r\n      data: filteredCatalog,\r\n    });\r\n  }\r\n\r\n  handleFormCheck(evt) {\r\n    if (evt.target.classList.contains('login__user-name')) {\r\n      let userNameInputValue = null;\r\n      checkUserName(evt, userNameInputValue);\r\n    } else if (evt.target.classList.contains('login__user-email')) {\r\n      checkUserEmail(evt);\r\n    } else if (evt.target.classList.contains('login__user-password')) {\r\n      checkUserPassword(evt);\r\n    }\r\n  }\r\n\r\n  handleFormSubmit(evt) {\r\n    evt.preventDefault();\r\n    let body = document.querySelector('body');\r\n    let loginModal = document.querySelector('.login');\r\n    body.classList.remove('page--block-modal');\r\n    loginModal.classList.add('login--hide');\r\n  }\r\n\r\n  render() {\r\n    const { error, isLoaded, data } = this.state;\r\n    if (error) {\r\n      return <div className=\"launch launch--error\">Ошибка. Код ошибки: {error}</div>;\r\n    } else if (!isLoaded) {\r\n      return <div className=\"launch launch--loading\">Загрузка...</div>;\r\n    } else {\r\n      return (\r\n        <div className=\"catalog\">\r\n          <h1>Brewdog's DIY Dog</h1>\r\n          <ModalLogin\r\n            onInput={(evt) => this.handleFormCheck(evt)}\r\n            onSubmit={(evt) => this.handleFormSubmit(evt)} />\r\n          <DataSearch\r\n            value={this.state}\r\n            onInput={(evt) => this.handleSearchInput(evt)}\r\n          />\r\n          <Sort\r\n            value={this.state}\r\n            onClick={(evt) => this.handleSortClick(evt)} />\r\n          <div className=\"product\">\r\n            <ul className=\"product__list\">\r\n              {data.map(item => (\r\n                <li className=\"product__item\" key={item.id} >\r\n                  <div className=\"product__card\">\r\n                    <a href=\"https://punkapi.com\" target=\"_blank\" rel=\"noreferrer\">\r\n                      <h2>{item.name}</h2>\r\n                      <p>Крепость пива: {item.abv}</p>\r\n                      <p>Цветность пива: {item.srm}</p>\r\n                      <img src={item.image_url} width='15%' height=\"auto\" alt={item.name} />\r\n                      <p>{item.description}</p>\r\n                    </a>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  LoadDataComponent\r\n};\r\n","import { LoadDataComponent } from './load-data';\nimport './App.css';\n\nfunction App() {\n  return (\n      <div className=\"container-edge\"><LoadDataComponent /></div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}